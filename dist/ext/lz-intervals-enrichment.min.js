/*! Locuszoom 0.13.4 */
var LzIntervalsEnrichment;(()=>{"use strict";var e={d:(a,t)=>{for(var s in t)e.o(t,s)&&!e.o(a,s)&&Object.defineProperty(a,s,{enumerable:!0,get:t[s]})},o:(e,a)=>Object.prototype.hasOwnProperty.call(e,a)},a={};e.d(a,{default:()=>r});const t=Symbol.for("lzXCS"),s=Symbol.for("lzYCS"),n=Symbol.for("lzXCE"),i=Symbol.for("lzYCE");function l(e){const a={start_field:"start",end_field:"end",track_height:10,track_vertical_spacing:3,bounding_box_padding:2,color:"#B8B8B8",fill_opacity:.5,tooltip_positioning:"vertical"},l=e.DataLayers.get("BaseDataLayer");const r={namespace:{intervals:"intervals"},closable:!0,show:{or:["highlighted","selected"]},hide:{and:["unhighlighted","unselected"]},html:"<b>Tissue</b>: {{{{namespace[intervals]}}tissueId|htmlescape}}<br>\n               <b>Range</b>: {{{{namespace[intervals]}}chromosome|htmlescape}}: {{{{namespace[intervals]}}start|htmlescape}}-{{{{namespace[intervals]}}end|htmlescape}}<br>\n               <b>-log10 p</b>: {{{{namespace[intervals]}}pValue|neglog10|scinotation|htmlescape}}<br>\n               <b>Enrichment (n-fold)</b>: {{{{namespace[intervals]}}fold|scinotation|htmlescape}}"},c={namespace:{intervals:"intervals"},id:"intervals_enrichment",type:"intervals_enrichment",tag:"intervals_enrichment",match:{send:"{{namespace[intervals]}}tissueId"},fields:["{{namespace[intervals]}}chromosome","{{namespace[intervals]}}start","{{namespace[intervals]}}end","{{namespace[intervals]}}pValue","{{namespace[intervals]}}fold","{{namespace[intervals]}}tissueId","{{namespace[intervals]}}ancestry"],id_field:"{{namespace[intervals]}}start",start_field:"{{namespace[intervals]}}start",end_field:"{{namespace[intervals]}}end",filters:[{field:"{{namespace[intervals]}}ancestry",operator:"=",value:"EU"},{field:"{{namespace[intervals]}}pValue",operator:"<=",value:.05},{field:"{{namespace[intervals]}}fold",operator:">",value:2}],y_axis:{axis:1,field:"{{namespace[intervals]}}fold",floor:0,upper_buffer:.1,min_extent:[0,10]},fill_opacity:.5,color:[{field:"{{namespace[intervals]}}tissueId",scale_function:"stable_choice",parameters:{values:["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"]}}],behaviors:{onmouseover:[{action:"set",status:"highlighted"}],onmouseout:[{action:"unset",status:"highlighted"}],onclick:[{action:"toggle",status:"selected",exclusive:!0}],onshiftclick:[{action:"toggle",status:"selected"}]},tooltip:r},o={id:"interval_matches",type:"highlight_regions",namespace:{intervals:"intervals"},match:{receive:"{{namespace[intervals]}}tissueId"},fields:["{{namespace[intervals]}}start","{{namespace[intervals]}}end","{{namespace[intervals]}}tissueId","{{namespace[intervals]}}ancestry","{{namespace[intervals]}}pValue","{{namespace[intervals]}}fold"],start_field:"{{namespace[intervals]}}start",end_field:"{{namespace[intervals]}}end",merge_field:"{{namespace[intervals]}}tissueId",filters:[{field:"lz_is_match",operator:"=",value:!0},{field:"{{namespace[intervals]}}ancestry",operator:"=",value:"EU"},{field:"{{namespace[intervals]}}pValue",operator:"<=",value:.05},{field:"{{namespace[intervals]}}fold",operator:">",value:2}],color:[{field:"{{namespace[intervals]}}tissueId",scale_function:"stable_choice",parameters:{values:["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"]}}],fill_opacity:.1},d={id:"intervals_enrichment",tag:"intervals_enrichment",min_height:250,height:250,margin:{top:35,right:50,bottom:40,left:50},inner_border:"rgb(210, 210, 210)",axes:{x:{label:"Chromosome {{chr}} (Mb)",label_offset:32,tick_format:"region",extent:"state"},y1:{label:"enrichment (n-fold)",label_offset:28}},interaction:{drag_background_to_pan:!0,drag_x_ticks_to_scale:!0,drag_y1_ticks_to_scale:!0,scroll_to_zoom:!0,x_linked:!0},data_layers:[c]},p={state:{},width:800,responsive_resize:!0,min_region_scale:2e4,max_region_scale:1e6,toolbar:e.Layouts.get("toolbar","standard_association",{unnamespaced:!0}),panels:[function(){const a=e.Layouts.get("panel","association",{unnamespaced:!0});return a.data_layers.unshift(o),a}(),d,e.Layouts.get("panel","genes")]};e.DataLayers.add("intervals_enrichment",class extends l{constructor(t){e.Layouts.merge(t,a),super(...arguments)}getTrackHeight(){return this.layout.track_height+this.layout.track_vertical_spacing+2*this.layout.bounding_box_padding}render(){const e=this._applyFilters(this.data),{start_field:a,end_field:l,bounding_box_padding:r,track_height:c}=this.layout,o=this.layout.y_axis.field,d=`y${this.layout.y_axis.axis}_scale`,{x_scale:p,[d]:m}=this.parent;e.forEach((e=>{e[t]=p(e[a]),e[n]=p(e[l]),e[s]=m(e[o])-this.getTrackHeight()/2+r,e[i]=e[s]+c})),e.sort(((e,a)=>{const s=e[n]-e[t];return a[n]-a[t]-s}));const f=this.svg.group.selectAll("rect").data(e);f.enter().append("rect").merge(f).attr("id",(e=>this.getElementId(e))).attr("x",(e=>e[t])).attr("y",(e=>e[s])).attr("width",(e=>e[n]-e[t])).attr("height",this.layout.track_height).attr("fill",((e,a)=>this.resolveScalableParameter(this.layout.color,e,a))).attr("fill-opacity",((e,a)=>this.resolveScalableParameter(this.layout.fill_opacity,e,a))),f.exit().remove(),this.svg.group.call(this.applyBehaviors.bind(this))}_getTooltipPosition(e){return{x_min:e.data[t],x_max:e.data[n],y_min:e.data[s],y_max:e.data[i]}}}),e.Layouts.add("tooltip","intervals_enrichment",r),e.Layouts.add("data_layer","intervals_enrichment",c),e.Layouts.add("panel","intervals_enrichment",d),e.Layouts.add("plot","intervals_association_enrichment",p)}"undefined"!=typeof LocusZoom&&LocusZoom.use(l);const r=l;LzIntervalsEnrichment=a.default})();
//# sourceMappingURL=lz-intervals-enrichment.min.js.map